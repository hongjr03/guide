---
tags: [font, chinese, raw]
---

# 为什么代码块里面的中文字体显示不正常？

## 问题示例 [issue](https://github.com/typst/typst/issues/5748)

````typst
```txt
这是一段文字。
第二段文字。
```

```txt
计算机，俗称电脑，是现代一种用于
高速计算的电子计算机器，可以进行数值计算，
又可以进行逻辑计算，还具有存储记忆
功能。是能够按照程序
运行，自动、高速处理海量数据的现代化智能电子设备。
```

```txt
这算机，俗称电脑，是现代一种用于
高速计算的电子计算机器，可以进行数值计算，
又可以进行逻辑计算，还具有存储记忆
功能。是能够按照程序
text运行，自动、高速处理f海量f数据的f现代化智能电子设备。
```
````

## 解决方法

首先，请参考 [为什么中文字体这么奇怪](./strange-fonts.md) 对正文字体进行配置。

然后，对于代码块，需要在源代码文件中使用类似的命令设置字体：

````typst
#show raw : set text(font: ("DejaVu Sans Mono", "Noto Sans CJK SC"))

```txt
这是一段文字。
第二段文字。
```

```txt
计算机，俗称电脑，是现代一种用于
高速计算的电子计算机器，可以进行数值计算，
又可以进行逻辑计算，还具有存储记忆
功能。是能够按照程序
运行，自动、高速处理海量数据的现代化智能电子设备。
```

```txt
这算机，俗称电脑，是现代一种用于
高速计算的电子计算机器，可以进行数值计算，
又可以进行逻辑计算，还具有存储记忆
功能。是能够按照程序
text运行，自动、高速处理f海量f数据的f现代化智能电子设备。
```
````

## 相关内容

- [代码块里多了空格/代码块的对齐非常奇怪](./code-block-justify.md)
